#:import math math
<ButtonImage@ButtonBehavior+Image>
    rel_size: 1
    size_hint: self.rel_size, self.rel_size
    opacity: 1 if self.state == 'normal' else .5

[ClockNumber@Label]:
    text: str(ctx.i)
    pos_hint: {"center_x": 0.5+0.42*math.sin(math.pi/6*(ctx.i-12)), "center_y": 0.5+0.42*math.cos(math.pi/6*(ctx.i-12))}
    font_size: self.height/16

<MyClockWidget>:
    face: face
    ticks: ticks
    canvas:
        Color:
            rgb: .3, .3, .3
        Rectangle:
            size: self.size

    ButtonImage:
        id: button1
        rel_size: .1
        size_hint: self.rel_size, self.rel_size
        pos: 10 ,(1-self.rel_size)*root.height-20
        source: 'img/settings.png'
        on_press: root.do_press()
        on_release: root.do_release()

    FloatLayout:
        id: face
        size_hint: None, None
        pos_hint: {"center_x":0.5, "center_y":0.5}
        size: 0.7*min(root.size), 0.7*min(root.size)
        canvas:
            Color:
                rgb: 1, 1, 1
#            Ellipse:
#                size: self.size
#                pos: self.pos
            Rectangle:
                source: 'img/roud_clock.png'
                size: self.size
                pos: self.pos

        ClockNumber:
            i: 1
        ClockNumber:
            i: 2
        ClockNumber:
            i: 3
        ClockNumber:
            i: 4
        ClockNumber:
            i: 5
        ClockNumber:
            i: 6
        ClockNumber:
            i: 7
        ClockNumber:
            i: 8
        ClockNumber:
            i: 9
        ClockNumber:
            i: 10
        ClockNumber:
            i: 11
        ClockNumber:
            i: 12
    Ticks:
        id: ticks
        r: min(root.size)*0.7/2

    ButtonImage:
        id: button1
        rel_size: .1
        pos: root.width-self.width -10,(1-self.rel_size)*root.height-20
        source: 'img/musik_1.png'
        on_press: root.do_press()
        on_release: root.do_release()

    Label:
        id: label
        size_hint: 1,0.1
        text: ''
        pos: 0,0
